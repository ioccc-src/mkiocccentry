.TH jauthchk 1 "16 March 2022" "jauthchk" "IOCCC tools"
.SH NAME
jauthchk \- IOCCC tool to validate .author.json file found within an entry directory
.SH SYNOPSIS
\fBjauthchk [\-h] [\-v level] [\-V] [\-T] [\-q] [\-W code] [\-w] ... file
.SH DESCRIPTION
\fBjauthchk\fP is primarily used by other tools (not humans).
As such it should behave like \fBfnamchk(1)\fP in that if all is well, it should not print anything and simply exit 0.
If there are problems found with the \fI.author.json\fP file, then warning messages should be printed to \fBstderr\fP AND the \fBjauthchk\fP tool should exit with a non-zero status.
The use of a -v level may be use to assist in debugging.
.PP
The \fBjauthchk\fP tool is primarily a stand alone tool.
As a sanity check, the \fBmkiocccentry(1)\fP program executes \fBjauthchk\fP AFTER the \fI.author.json\fP file has been created and before the compressed tarball is formed.
If \fBmkiocccentry\fP program sees a 0 exit status, then all is well.
For a non-zero exit code, the tool aborts because any problems detected by \fBjauthchk\fP based on what \fBmkiocccentry\fP wrote into \fI.author.json\fP indicates there is a serious mismatch between what \fBmkiocccentry\fP is doing and what \fBjauthchk\fP expects.
.PP
.SH OPTIONS
.PP
\fB\-h\fP
Show help and exit.
.PP
\fB\-v\fP
Set verbosity level.
.PP
\fB\-V\fP
Show version and exit.
.PP
\fB\-T\fP
Show IOCCC toolkit release repository tag.
.PP
\fB\-q\fP
Quiet mode.
Don't show welcome messages etc. (primarily used with \fBmkiocccentry\fP).
.PP
\fB\-W code\fP
Add code to the list of JSON codes to ignore.
To ignore more than one JSON code, use multiple \fB\-W code\fP on the command line.
Note: 0 (which is reserved) notwithstanding the code is in decimal (not octal) despite the fact the codes up through 999 are 0-padded; we explicitly parse the codes as decimal, not octal.
.PP
\fB\-w\fP
Show complete warning information.
Note that this currently is not used but will be in a future commit.
.SH EXIT STATUS
.PP
\fBmain()\fP returns 1 for issues found and 0 for success.
If an error is encountered the end is not reached.
.SH FILES
\fIjauthchk.c\fP
.RS
Source file to the \fBjauthchk\fP tool.
.RE
\fIjauthchk.h\fP
.RS
Header file for the \fBjauthchk\fP tool.
.RE
\fIjson.h\fP
.RS
Header file with JSON data and function prototypes.
.RE
\fIjson.c\fP
.RS
Source file with JSON data and function definitions.
.RE
.SH BUGS
This tool is not yet finished so expect issues with it.
