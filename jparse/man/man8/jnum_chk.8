.\" section 8 man page for jnum_chk
.\"
.\" This man page was first written by Cody Boone Ferguson for the IOCCC
.\" in 2022.
.\"
.\" Humour impairment is not virtue nor is it a vice, it's just plain
.\" wrong: almost as wrong as JSON spec mis-features and C++ obfuscation! :-)
.\"
.\" "Share and Enjoy!"
.\"     --  Sirius Cybernetics Corporation Complaints Division, JSON spec department. :-)
.\"
.TH jnum_chk 8 "06 September 2024" "jnum_chk" "jparse tools"
.SH NAME
.B jnum_chk
\- tool to check JSON number string conversions
.SH SYNOPSIS
.B jnum_chk
.RB [\| \-h \|]
.RB [\| \-v
.IR level \|]
.RB [\| \-J
.IR level \|]
.RB [\| \-V \|]
.RB [\| \-q \|]
.RB [\| \-S \|]
.SH DESCRIPTION
.B jnum_chk
verifies that the JSON number string conversions work correctly, using the data in
.I jnum_test.c
which is automatically generated by the
.BR jnum_gen (8)
tool.
By default only 8, 16, 32, 64 bit and max size signed and unsigned integer types are checked.
Floating point, double floating point and long double floating point are also checked but only to 1 part in 4.1943e+06
.RB (\| MATCH_PRECISION\c
.R \|).
Thus floating point conversions do not have to match fully in order to succeed when strict mode is disabled (the default).
.SH OPTIONS
.TP
.B \-h
Print help and exit.
.TP
.BI \-v\  level
Set verbosity level to
.I level
(def: 0).
.TP
.B \-V
Print version and exit.
.TP
.BI \-J\  level
Set JSON verbosity level to
.I level
(def: 0).
.TP
.B \-q
Set quiet mode.
This will be affect the output of the JSON parser.
.TP
.B \-S
Set strict mode.
.SH EXIT STATUS
.TP
0
all is OK
.TQ
1
without \-S given and JSON number conversion test suite failed
.TQ
2
\-S given and JSON number conversion test suite failed
.TQ
3
\-h and help string printed or \-V and version string printed
.TQ
4
command line error
.TQ
>=10
internal error
.SH NOTES
.PP
The JSON parser
.B jparse
was co\-developed by Cody Boone Ferguson and Landon Curt Noll (one of the IOCCC Judges) in support for IOCCCMOCK, IOCCC28 and beyond.
.PP
The strict mode will enable all tests and force the floating point checks to match fully.
Specifically, if strict mode is disabled (the default) and the two numbers do not match but the difference is <=
.B 1.0/MATCH_PRECISION
all is OK.
Otherwise there is an issue.
The strict mode option
.B \-S
is for informational purposes only.
.SH BUGS
If you have a problem with the tool (not JSON itself! :\-) ) you can report it at the GitHub issues page.
It can be found at
.br
.IR \<https://github.com/xexyl/jparse/issues\> .
.SH SEE ALSO
.BR jnum_gen (8),
.BR jparse (1)
