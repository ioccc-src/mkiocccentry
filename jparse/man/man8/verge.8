.\" section 8 man page for verge
.\"
.\" This man page was first written by Cody Boone Ferguson for the IOCCC
.\" in 2022.
.\"
.\" Humour impairment is not virtue nor is it a vice, it's just plain
.\" wrong: almost as wrong as JSON spec mis-features and C++ obfuscation! :-)
.\"
.\" "Share and Enjoy!"
.\"     --  Sirius Cybernetics Corporation Complaints Division, JSON spec department. :-)
.\"
.TH verge 8 "26 Novenber 2025" "verge" "jparse tools"
.SH NAME
.B verge
\- test if first version arg is greater than or equal to the second version arg
.SH SYNOPSIS
.B verge
.RB [\| \-h \|]
.RB [\| \-v
.IR level \|]
.RB [\| \-V \|]
.I 1st.version.number
.I 2nd.version.number
.SH DESCRIPTION
.B verge
(short for
"version greater than or equal") compares the two versions specified,
determining if the first is greater than or equal to the second.
.PP
Version numbers must be non-negative base 10 (decimal) integers that
.BR strtoimax (3)
is able to parse.
Version levels are separated by periods.
Version args must have 1 or more levels.
Version args may end with a trailing period.
.SH OPTIONS
.TP
.B \-h
Print help and exit.
.TP
.BI \-v\  level
Set verbosity level to
.I level
(def: 0).
.TP
.B \-V
Print version (of
.BR verge ,
.B jparse
utils,
.B jparse
UTF\-8 library and the
.B jparse
library itself) strings and exit.
.SH EXIT STATUS
.TP
0
first version arg \(>= second version arg
.TQ
1
first version arg < second version arg
.TQ
2
.B \-h
and help string printed or
.B \-V
and version strings (see above) printed
.TQ
3
command line error
.TQ
4
first or second version string is an invalid version
.TQ
\(>= 10
internal error
.SH NOTES
This tool is used in the
.BR run_flex.sh (8)
and
.BR run_bison.sh (8)
scripts to determine if the locally installed flex and bison tools are recent enough to generate the JSON parser from the
.I jparse.l
and
.I jparse.y
files.
.SH BUGS
.PP
If you have an issue with the tool you can report it at:
.sp
.RS
.I https://github.com/xexyl/jparse/issues
.RE
.SH EXAMPLES
.PP
Test if first version,
.IR 1.1.3 ,
is greater than or equal to the second version,
.IR 1.1.4 :
.sp
.RS
.ft B
.nf
if verge 1.1.4 1.1.2; then
    echo "first version >= second version"
fi
.fi
.ft R
.RE
.sp
Because in the above example
.BR verge (8)
will exit 0, the echo statement will be printed.
.PP
Test if first version,
.IR 2.3.4.5 ,
is greater than or equal to the second version,
.IR 1.2 :
.sp
.RS
.ft B
.nf
if verge 2.3.4.5 1.2; then
    echo "first version >= second version"
fi
.fi
.ft R
.RE
.sp
Because in the above example
.BR verge (8)
will exit 0, the echo statement will be printed.
.PP
Test if first version,
.IR 5.1 ,
is greater than or equal to the second version,
.IR 5.1 :
.sp
.RS
.ft B
.nf
if verge 5.1 5.1; then
    echo "first version >= second version"
fi
.fi
.ft R
.RE
.sp
Because in the above example
.BR verge (8)
will exit 0, the echo statement will be printed.
.PP
Test if first version,
.IR 2 ,
is greater than or equal to the second version,
.IR 3.1.4.1.5 :
.sp
.RS
.ft B
.nf
if verge 2 3.1.4.1.5; then
    echo "first version >= second version"
else
    echo "first version < second version"
fi
.fi
.ft R
.RE
.sp
In the above example
.BR verge (8)
will exit 1, and the second statement will be printed.
