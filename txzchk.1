.TH txzchk 1 "18 February 2022" "txzchk" "IOCCC tools"
.SH NAME
txzchk \- sanity checker tool used on IOCCC compressed tarballs
.SH SYNOPSIS
\fBtxzchk [\-h] [\-v level] [\-q] [\-V] [\-t tar] [\-F fnamchk] [\-T] txzpath
.SH DESCRIPTION
\fBtxzchk\fP runs a series of sanity tests on IOCCC compressed tarballs and it is invoked by \fBmkiocccentry(1)\fP after forming the tarball.
.PP
The program runs \fBtar \-tJvf\fP on the \fItxzpath\fP to list (it does NOT extract) and parses the output of the command, performing a variety of tests on the tarball.
It also runs the IOCCC tool \fBfnamchk(1)\fP on the file, verifying that the tarball is properly named.
.PP
It will also be directly executed by The Judges during the judging process of the contest.
This is an important part of the judging process.
.SH OPTIONS
.PP
\fB\-h\fP
Show help and exit.
.PP
\fB\-v\fP
Set verbosity level.
.PP
\fB\-q\fP
Suppresses some of the output.
This does not include warnings, errors or the output of the \fBtar\fP command.
.PP
\fB\-V\fP
Show version and exit.
.PP
\fB\-t\fP
Specify path to \fBtar\fP that accepts the \fB\-J\fP option.
\fBtxzchk\fP checks \fI/usr/bin/tar\fP and \fI/bin/tar\fP if this option is not specified.
.PP
\fB\-F\fP
Specify path to the IOCCC \fBfnamchk(1)\fP tool.
If this option is not specified the program looks under the current working directory and \fI/usr/local/bin\fP.
.PP
\fB\-T\fP
Assume txzpath is a text file; use \fBfopen(3)\fP and \fBfclose(3)\fP instead of \fBpopen(3)\fP and \fBpclose(3)\fP and don't require \fBtar\fP program.
.SH EXIT STATUS
.PP
\fBmain()\fP returns 1 for errors or issues found; 0 for success.
If there's either an internal error or parsing error (which could happen with a tar output that's not known for example) the end is not reached.
.SH FILES
\fItxzchk.c\fP
.RS
Source file of the \fBtxzchk\fP tool.
.RE
\fItxzchk.h\fP
.RS
Header file of the \fBtxzchk\fP tool.
.RE
\fIlimit_ioccc.h\fP
.RS
Header file with limits related to the IOCCC.
.RE
.SH BUGS
.PP
Cody Boone Ferguson wrote it! :)
.PP
On a more serious note, if you have an issue with the tool you can report it at \fI\<https://github.com/ioccc-src/mkiocccentry/issues\>\fP.
.SH EXAMPLES
.PP
.nf
Run the program on the tarball \fIentry.test-1.1644094311.txz\fP:

.RS
\fB
 ./txzchk entry.test-1.1644094311.txz\fP
.fi
.RE
.PP
.nf
Run the program on the tarball \fIentry.test-1.1644094311.txz\fP, specifying an alternate path to \fBtar\fP and \fBfnamchk\fP:

.RS
\fB
 ./txzchk -t /path/to/tar -F ./filenamechk entry.test-1.1644094311.txz\fP
.fi
.RE
